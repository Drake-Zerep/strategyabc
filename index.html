<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokerStrategy Pro - Visualizador de Rangos Preflop</title>
    <style>
        :root {
            --primary: #1a1a2e;
            --secondary: #16213e;
            --accent: #0f3460;
            --highlight: #e94560;
            --text: #f1f1f1;
            --card-bg: #2d3047;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #F44336;
            --info: #2196F3;
            --blue-dark: #1565C0;
            --orange: #FF9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--primary);
            color: var(--text);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--highlight);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--text);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 0.5rem 0.8rem;
            border-radius: 4px;
        }
        
        nav ul li a:hover, nav ul li a.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--highlight);
        }
        
        .hero {
            background: linear-gradient(rgba(22, 33, 62, 0.9), rgba(15, 52, 96, 0.9)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%231a1a2e"/><path d="M0 0L100 100M100 0L0 100" stroke="%230f3460" stroke-width="1"/></svg>');
            padding: 4rem 0;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, var(--highlight), #ff7b9c);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            color: #d1d1d1;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--highlight);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #ff2e4f;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.4);
        }
        
        .section {
            padding: 4rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            display: inline-block;
            padding-bottom: 0.5rem;
        }
        
        .section-title h2:after {
            content: '';
            position: absolute;
            width: 80px;
            height: 4px;
            background-color: var(--highlight);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Estilos para el Visualizador */
        .visualizer-container {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 2rem;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .control-group label {
            font-weight: 500;
            color: var(--highlight);
        }
        
        select, input {
            background-color: var(--secondary);
            border: 1px solid var(--accent);
            color: var(--text);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .range-grid-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            overflow-x: auto;
        }
        
        .range-grid {
            display: grid;
            grid-template-columns: repeat(14, 1fr);
            gap: 1px;
            max-width: 700px;
            width: 100%;
        }
        
        .grid-header {
            display: contents;
        }
        
        .grid-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--secondary);
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.7rem;
            font-weight: 600;
            position: relative;
            min-width: 30px;
        }
        
        .grid-cell:hover {
            transform: scale(1.1);
            z-index: 2;
            box-shadow: 0 0 8px rgba(233, 69, 96, 0.5);
        }
        
        .grid-cell.selected {
            background-color: var(--highlight);
        }
        
        .grid-cell.premium {
            background-color: #4CAF50;
        }
        
        .grid-cell.strong {
            background-color: #8BC34A;
        }
        
        .grid-cell.medium {
            background-color: #FFC107;
            color: #333;
        }
        
        .grid-cell.speculative {
            background-color: #FF9800;
        }
        
        .grid-cell.light {
            background-color: #FF5722;
        }
        
        .grid-cell.blue-dark {
            background-color: var(--blue-dark);
        }
        
        .grid-cell.orange {
            background-color: var(--orange);
        }
        
        .grid-header-cell {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.3rem;
            font-weight: 600;
            color: var(--highlight);
            font-size: 0.8rem;
            min-width: 30px;
        }
        
        .range-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--secondary);
            border-radius: 5px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--highlight);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
        }
        
        .range-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 0.5rem 1rem;
            background-color: var(--accent);
            border: none;
            color: var(--text);
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9rem;
        }
        
        .action-btn:hover {
            background-color: var(--highlight);
        }
        
        .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .preset-btn {
            padding: 0.4rem 0.8rem;
            background-color: var(--secondary);
            border: 1px solid var(--accent);
            color: var(--text);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s;
        }
        
        .preset-btn:hover {
            background-color: var(--accent);
        }
        
        .preset-btn.active {
            background-color: var(--highlight);
            border-color: var(--highlight);
        }
        
        .hand-details {
            margin-top: 2rem;
            padding: 1rem;
            background-color: var(--secondary);
            border-radius: 5px;
            display: none;
        }
        
        .hand-details.active {
            display: block;
        }
        
        .hand-cards {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .card-display {
            width: 60px;
            height: 84px;
            background-color: white;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 0.4rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        
        .card-display.red {
            color: #e74c3c;
        }
        
        .card-display.black {
            color: #2c3e50;
        }
        
        .card-value {
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .card-suit {
            font-size: 1.4rem;
            text-align: center;
        }
        
        .hand-equity {
            margin-top: 1rem;
        }
        
        .equity-bar {
            height: 16px;
            background-color: var(--primary);
            border-radius: 8px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .equity-fill {
            height: 100%;
            background: linear-gradient(to right, var(--highlight), #ff7b9c);
            border-radius: 8px;
            transition: width 0.5s;
        }
        
        footer {
            background-color: var(--secondary);
            padding: 3rem 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .footer-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--highlight);
            margin-bottom: 1rem;
        }
        
        .footer-links {
            display: flex;
            margin: 1.5rem 0;
        }
        
        .footer-links a {
            color: var(--text);
            margin: 0 1rem;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--highlight);
        }
        
        .copyright {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }
            
            nav ul {
                margin-top: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 0.3rem;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .range-grid {
                max-width: 500px;
                grid-template-columns: repeat(14, 1fr);
                gap: 1px;
            }
            
            .grid-cell {
                font-size: 0.6rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .range-actions {
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .range-grid {
                max-width: 400px;
            }
            
            .grid-cell {
                font-size: 0.5rem;
            }
            
            .grid-header-cell {
                font-size: 0.7rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">Poker<span>Strategy</span> Pro</a>
                <nav>
                    <ul>
                        <li><a href="#preflop">Preflop</a></li>
                        <li><a href="#postflop">Postflop</a></li>
                        <li><a href="#turn-river">Turn & River</a></li>
                        <li><a href="#visualizador" class="active">Visualizador</a></li>
                        <li><a href="#calculadoras">Calculadoras</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Visualizador de Rangos Preflop</h1>
            <p>Explora y personaliza los rangos de manos preflop para cada posición. Mejora tu juego con esta herramienta interactiva.</p>
            <a href="#visualizador" class="btn">Comenzar</a>
        </div>
    </section>

    <section id="visualizador" class="section">
        <div class="container">
            <div class="section-title">
                <h2>Visualizador de Rangos</h2>
            </div>
            
            <div class="visualizer-container">
                <div class="controls">
                    <div class="control-group">
                        <label for="position">Posición</label>
                        <select id="position">
                            <option value="UTG">UTG</option>
                            <option value="MP">MP</option>
                            <option value="CO">CO</option>
                            <option value="BU" selected>BU</option>
                            <option value="SB">SB</option>
                            <option value="BB">BB</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="action">Acción</label>
                        <select id="action">
                            <option value="OR">Open Raise (OR)</option>
                            <option value="Call3Bet">Call vs 3Bet</option>
                            <option value="4Bet">4Bet</option>
                            <option value="4BetBluff">4Bet Bluff</option>
                            <option value="3BetValue">3Bet por Valor</option>
                            <option value="ColdCall">Cold Call</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="vs-position">Vs Posición</label>
                        <select id="vs-position">
                            <option value="any">Cualquiera</option>
                            <option value="UTG-MP">UTG-MP</option>
                            <option value="CO-BU">CO-BU</option>
                        </select>
                    </div>
                </div>
                
                <div class="range-grid-container">
                    <div class="range-grid" id="range-grid">
                        <!-- Grid will be generated by JavaScript -->
                    </div>
                </div>
                
                <div class="range-stats">
                    <div class="stat">
                        <div class="stat-value" id="range-percent">0%</div>
                        <div class="stat-label">del Rango</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="combos-count">0</div>
                        <div class="stat-label">Combinaciones</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="hands-count">0</div>
                        <div class="stat-label">Manos</div>
                    </div>
                </div>
                
                <div class="hand-details" id="hand-details">
                    <h3>Detalles de la Mano</h3>
                    <div class="hand-cards">
                        <div class="card-display black" id="card1">
                            <div class="card-value">A</div>
                            <div class="card-suit">♠</div>
                        </div>
                        <div class="card-display red" id="card2">
                            <div class="card-value">K</div>
                            <div class="card-suit">♥</div>
                        </div>
                    </div>
                    <div class="hand-info">
                        <p><strong>Tipo:</strong> <span id="hand-type">Pareja</span></p>
                        <p><strong>Equity vs Rango Aleatorio:</strong> <span id="hand-equity">65%</span></p>
                    </div>
                    <div class="hand-equity">
                        <p>Equity:</p>
                        <div class="equity-bar">
                            <div class="equity-fill" style="width: 65%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3>Guía de Colores del Visualizador</h3>
                </div>
                <div class="card-body">
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #4CAF50; border-radius: 3px;"></div>
                            <span>Manos Premium</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #8BC34A; border-radius: 3px;"></div>
                            <span>Manos Fuertes</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #FFC107; border-radius: 3px;"></div>
                            <span>Manos Medias</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #FF9800; border-radius: 3px;"></div>
                            <span>Manos Especulativas</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #FF5722; border-radius: 3px;"></div>
                            <span>Manos Marginales</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #1565C0; border-radius: 3px;"></div>
                            <span>Call vs 3Bet / Cold Call</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 20px; height: 20px; background-color: #FF9800; border-radius: 3px;"></div>
                            <span>4Bet / 3Bet Valor</span>
                        </div>
                    </div>
                    <p>Selecciona diferentes posiciones y acciones para ver cómo cambian los rangos recomendados. Puedes hacer clic en cualquier mano para ver sus detalles y estadísticas.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">PokerStrategy Pro</div>
                <p>Tu guía definitiva para dominar el póker</p>
                <div class="footer-links">
                    <a href="#preflop">Preflop</a>
                    <a href="#postflop">Postflop</a>
                    <a href="#turn-river">Turn & River</a>
                    <a href="#visualizador">Visualizador</a>
                    <a href="#calculadoras">Calculadoras</a>
                </div>
                <div class="copyright">
                    &copy; 2023 PokerStrategy Pro. Todos los derechos reservados.
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Rangos completos basados en la información proporcionada
        const rangeData = {
            UTG: {
                OR: [
                    // Parejas
                    "22", "33", "44", "55", "66", "77", "88", "99", "TT", "JJ", "QQ", "KK", "AA",
                    // Suited
                    "A2s", "A3s", "A4s", "A5s", "A6s", "A7s", "A8s", "A9s", "ATs", "AJs", "AQs", "AKs",
                    "K2s", "K3s", "K4s", "K5s", "K6s", "K7s", "K8s", "K9s", "KTs", "KJs", "KQs",
                    "Q2s", "Q3s", "Q4s", "Q5s", "Q6s", "Q7s", "Q8s", "Q9s", "QTs", "QJs",
                    "J4s", "J5s", "J6s", "J7s", "J8s", "J9s", "JTs",
                    "T6s", "T7s", "T8s", "T9s",
                    "96s", "97s", "98s",
                    "86s", "87s",
                    "76s", "65s", "54s",
                    // Offsuit
                    "A2o", "A3o", "A4o", "A5o", "A6o", "A7o", "A8o", "A9o", "ATo", "AJo", "AQo", "AKo",
                    "K2o", "K3o", "K4o", "K5o", "K6o", "K7o", "K8o", "K9o", "KTo", "KJo", "KQo",
                    "Q6o", "Q7o", "Q8o", "Q9o", "QTo", "QJo",
                    "J8o", "J9o", "JTo",
                    "T8o", "T9o",
                    "98o", "87o", "76o"
                ],
                Call3Bet: ["99", "TT", "JJ", "AQs", "AJs", "AKo"],
                "4Bet": ["AA", "KK", "AKs", "AKo"],
                "4BetBluff": ["ATo", "KJo"]
            },
            MP: {
                OR: [
                    // Parejas
                    "22", "33", "44", "55", "66", "77", "88", "99", "TT", "JJ", "QQ", "KK", "AA",
                    // Suited
                    "A2s", "A3s", "A4s", "A5s", "A6s", "A7s", "A8s", "A9s", "ATs", "AJs", "AQs", "AKs",
                    "K2s", "K3s", "K4s", "K5s", "K6s", "K7s", "K8s", "K9s", "KTs", "KJs", "KQs",
                    "Q4s", "Q5s", "Q6s", "Q7s", "Q8s", "Q9s", "QTs", "QJs",
                    "J7s", "J8s", "J9s", "JTs",
                    "T7s", "T8s", "T9s",
                    "97s", "98s",
                    "87s", "76s", "65s", "54s",
                    // Offsuit
                    "A2o", "A3o", "A4o", "A5o", "A6o", "A7o", "A8o", "A9o", "ATo", "AJo", "AQo", "AKo",
                    "K5o", "K6o", "K7o", "K8o", "K9o", "KTo", "KJo", "KQo",
                    "Q8o", "Q9o", "QTo", "QJo",
                    "J9o", "JTo",
                    "T9o", "98o", "87o"
                ],
                Call3Bet: ["88", "99", "TT", "JJ", "AQo", "AJs", "KQs"],
                "4Bet": ["AA", "KK", "QQ", "AKs", "AKo"],
                "4BetBluff": ["ATo", "KJo"]
            },
            CO: {
                OR: [
                    // Parejas
                    "22", "33", "44", "55", "66", "77", "88", "99", "TT", "JJ", "QQ", "KK", "AA",
                    // Suited
                    "A2s", "A3s", "A4s", "A5s", "A6s", "A7s", "A8s", "A9s", "ATs", "AJs", "AQs", "AKs",
                    "K2s", "K3s", "K4s", "K5s", "K6s", "K7s", "K8s", "K9s", "KTs", "KJs", "KQs",
                    "Q2s", "Q3s", "Q4s", "Q5s", "Q6s", "Q7s", "Q8s", "Q9s", "QTs", "QJs",
                    "J4s", "J5s", "J6s", "J7s", "J8s", "J9s", "JTs",
                    "T6s", "T7s", "T8s", "T9s",
                    "96s", "97s", "98s",
                    "86s", "87s",
                    "76s", "65s", "54s",
                    // Offsuit
                    "A2o", "A3o", "A4o", "A5o", "A6o", "A7o", "A8o", "A9o", "ATo", "AJo", "AQo", "AKo",
                    "K8o", "K9o", "KTo", "KJo", "KQo",
                    "Q8o", "Q9o", "QTo", "QJo",
                    "J9o", "JTo",
                    "T9o", "98o", "87o"
                ],
                Call3Bet: ["77", "88", "99", "TT", "ATs", "KQs", "QJs", "AJo", "KQo", "JTs", "T9s", "98s"],
                "4Bet": ["AA", "KK", "QQ", "AKs", "AKo"],
                "4BetBluff": ["KJo", "ATo"]
            },
            BU: {
                OR: [
                    // Parejas
                    "22", "33", "44", "55", "66", "77", "88", "99", "TT", "JJ", "QQ", "KK", "AA",
                    // Suited
                    "A2s", "A3s", "A4s", "A5s", "A6s", "A7s", "A8s", "A9s", "ATs", "AJs", "AQs", "AKs",
                    "K2s", "K3s", "K4s", "K5s", "K6s", "K7s", "K8s", "K9s", "KTs", "KJs", "KQs",
                    "Q2s", "Q3s", "Q4s", "Q5s", "Q6s", "Q7s", "Q8s", "Q9s", "QTs", "QJs",
                    "J2s", "J3s", "J4s", "J5s", "J6s", "J7s", "J8s", "J9s", "JTs",
                    "T2s", "T3s", "T4s", "T5s", "T6s", "T7s", "T8s", "T9s",
                    "95s", "96s", "97s", "98s",
                    "85s", "86s", "87s",
                    "75s", "76s", "77s",
                    "65s", "54s",
                    // Offsuit
                    "A2o", "A3o", "A4o", "A5o", "A6o", "A7o", "A8o", "A9o", "ATo", "AJo", "AQo", "AKo",
                    "K6o", "K7o", "K8o", "K9o", "KTo", "KJo", "KQo",
                    "Q8o", "Q9o", "QTo", "QJo",
                    "J9o", "JTo",
                    "T9o", "98o", "87o", "76o"
                ],
                Call3Bet: ["66", "77", "88", "99", "TT", "ATs", "A5s", "KTs", "QTs", "JTs", "T9s", "98s", "AJo", "KQo", "QJs"],
                "4Bet": ["AA", "KK", "QQ", "JJ", "AKs", "AKo", "AQs"],
                "4BetBluff": ["KJo", "ATo"]
            },
            SB: {
                OR: [
                    // Mismo rango que BU
                    "22", "33", "44", "55", "66", "77", "88", "99", "TT", "JJ", "QQ", "KK", "AA",
                    "A2s", "A3s", "A4s", "A5s", "A6s", "A7s", "A8s", "A9s", "ATs", "AJs", "AQs", "AKs",
                    "K2s", "K3s", "K4s", "K5s", "K6s", "K7s", "K8s", "K9s", "KTs", "KJs", "KQs",
                    "Q2s", "Q3s", "Q4s", "Q5s", "Q6s", "Q7s", "Q8s", "Q9s", "QTs", "QJs",
                    "J2s", "J3s", "J4s", "J5s", "J6s", "J7s", "J8s", "J9s", "JTs",
                    "T2s", "T3s", "T4s", "T5s", "T6s", "T7s", "T8s", "T9s",
                    "95s", "96s", "97s", "98s",
                    "85s", "86s", "87s",
                    "75s", "76s", "77s",
                    "65s", "54s",
                    "A2o", "A3o", "A4o", "A5o", "A6o", "A7o", "A8o", "A9o", "ATo", "AJo", "AQo", "AKo",
                    "K6o", "K7o", "K8o", "K9o", "KTo", "KJo", "KQo",
                    "Q8o", "Q9o", "QTo", "QJo",
                    "J9o", "JTo",
                    "T9o", "98o", "87o", "76o"
                ],
                Call3Bet: ["66", "77", "88", "99", "TT", "ATs", "A5s", "KTs", "QTs", "JTs", "T9s", "98s", "AJo", "KQo", "QJs"],
                "4Bet": ["AA", "KK", "QQ", "JJ", "AKs", "AKo", "AQs"],
                "4BetBluff": ["KJo", "ATo"]
            },
            BB: {
                // Para BB, usaremos los rangos de 3Bet y Cold Call basados en la posición del atacante
                "3BetValue": {
                    "UTG-MP": ["AA", "KK", "QQ", "AKs", "AKo", "AQs", "AJs", "KQs", "JJ", "TT"],
                    "CO-BU": ["AA", "KK", "QQ", "JJ", "AKs", "AKo", "AQs", "KQs"]
                },
                "ColdCall": {
                    "UTG-MP": ["99", "88", "77", "AJs", "KJs", "QJs", "JTs", "T9s", "98s"],
                    "CO-BU": ["TT", "99", "88", "77", "AJs", "ATs", "KJs", "QJs", "JTs", "T9s", "98s", "87s", "76s", "65s"]
                }
            }
        };

        // Inicializar el visualizador
        document.addEventListener('DOMContentLoaded', function() {
            const rangeGrid = document.getElementById('range-grid');
            const positionSelect = document.getElementById('position');
            const actionSelect = document.getElementById('action');
            const vsPositionSelect = document.getElementById('vs-position');
            const rangePercent = document.getElementById('range-percent');
            const combosCount = document.getElementById('combos-count');
            const handsCount = document.getElementById('hands-count');
            const handDetails = document.getElementById('hand-details');
            
            let selectedHands = new Set();
            let currentRange = [];
            
            // Crear la cuadrícula de manos
            function createGrid() {
                // Limpiar grid existente
                rangeGrid.innerHTML = '';
                
                const ranks = ['A', 'K', 'Q', 'J', 'T', '9', '8', '7', '6', '5', '4', '3', '2'];
                
                // Crear cabeceras de columna
                const emptyHeader = document.createElement('div');
                emptyHeader.className = 'grid-header-cell';
                rangeGrid.appendChild(emptyHeader);
                
                ranks.forEach(rank => {
                    const header = document.createElement('div');
                    header.className = 'grid-header-cell';
                    header.textContent = rank;
                    rangeGrid.appendChild(header);
                });
                
                // Crear filas
                for (let i = 0; i < ranks.length; i++) {
                    // Añadir cabecera de fila
                    const rowHeader = document.createElement('div');
                    rowHeader.className = 'grid-header-cell';
                    rowHeader.textContent = ranks[i];
                    rangeGrid.appendChild(rowHeader);
                    
                    // Crear celdas para esta fila
                    for (let j = 0; j < ranks.length; j++) {
                        const cell = document.createElement('div');
                        cell.className = 'grid-cell';
                        
                        if (i === j) {
                            // Parejas
                            cell.textContent = `${ranks[i]}${ranks[j]}`;
                            cell.dataset.hand = `${ranks[i]}${ranks[j]}`;
                        } else if (i < j) {
                            // Manos suited
                            cell.textContent = `${ranks[i]}${ranks[j]}s`;
                            cell.dataset.hand = `${ranks[i]}${ranks[j]}s`;
                        } else {
                            // Manos offsuit
                            cell.textContent = `${ranks[j]}${ranks[i]}o`;
                            cell.dataset.hand = `${ranks[j]}${ranks[i]}o`;
                        }
                        
                        cell.addEventListener('click', function() {
                            toggleHandSelection(this);
                        });
                        
                        rangeGrid.appendChild(cell);
                    }
                }
                
                updateRangeDisplay();
            }
            
            // Alternar selección de una mano
            function toggleHandSelection(cell) {
                const hand = cell.dataset.hand;
                
                if (selectedHands.has(hand)) {
                    selectedHands.delete(hand);
                    cell.classList.remove('selected');
                } else {
                    selectedHands.add(hand);
                    cell.classList.add('selected');
                }
                
                updateStats();
                updateHandDetails(hand);
            }
            
            // Actualizar estadísticas
            function updateStats() {
                const percent = ((selectedHands.size / 169) * 100).toFixed(1);
                rangePercent.textContent = `${percent}%`;
                combosCount.textContent = selectedHands.size * 6; // Aproximación
                handsCount.textContent = selectedHands.size;
            }
            
            // Actualizar detalles de la mano
            function updateHandDetails(hand) {
                if (!hand) return;
                
                handDetails.classList.add('active');
                
                // Actualizar cartas visuales
                const card1 = document.getElementById('card1');
                const card2 = document.getElementById('card2');
                
                const rank1 = hand[0];
                const rank2 = hand[1];
                const suited = hand.length > 2 && hand[2] === 's';
                
                card1.querySelector('.card-value').textContent = rank1;
                card2.querySelector('.card-value').textContent = rank2;
                
                // Asignar palos y colores
                if (suited) {
                    card1.querySelector('.card-suit').textContent = '♠';
                    card2.querySelector('.card-suit').textContent = '♠';
                    card1.className = 'card-display black';
                    card2.className = 'card-display black';
                } else {
                    card1.querySelector('.card-suit').textContent = '♠';
                    card2.querySelector('.card-suit').textContent = '♥';
                    card1.className = 'card-display black';
                    card2.className = 'card-display red';
                }
                
                // Actualizar tipo de mano
                const handType = document.getElementById('hand-type');
                if (rank1 === rank2) {
                    handType.textContent = 'Pareja';
                } else if (suited) {
                    handType.textContent = 'Mano suited';
                } else {
                    handType.textContent = 'Mano offsuit';
                }
                
                // Calcular equity (simulado)
                const equity = Math.floor(Math.random() * 30) + 50; // 50-80%
                document.getElementById('hand-equity').textContent = `${equity}%`;
                document.querySelector('.equity-fill').style.width = `${equity}%`;
            }
            
            // Actualizar rango según posición y acción
            function updateRangeDisplay() {
                const position = positionSelect.value;
                const action = actionSelect.value;
                const vsPosition = vsPositionSelect.value;
                
                // Limpiar selecciones
                selectedHands.clear();
                const cells = document.querySelectorAll('.grid-cell');
                cells.forEach(cell => {
                    cell.classList.remove('selected');
                    cell.className = 'grid-cell'; // Reset classes
                });
                
                // Obtener el rango correspondiente
                let range = [];
                
                if (position === "BB" && (action === "3BetValue" || action === "ColdCall")) {
                    range = rangeData[position][action][vsPosition] || [];
                } else {
                    range = rangeData[position][action] || [];
                }
                
                currentRange = range;
                
                // Seleccionar manos del rango y aplicar colores
                range.forEach(hand => {
                    selectedHands.add(hand);
                    const cell = document.querySelector(`.grid-cell[data-hand="${hand}"]`);
                    if (cell) {
                        cell.classList.add('selected');
                        
                        // Aplicar color según la acción
                        if (action === "Call3Bet" || action === "ColdCall") {
                            cell.classList.add('blue-dark');
                        } else if (action === "4Bet" || action === "3BetValue") {
                            cell.classList.add('orange');
                        } else if (action === "4BetBluff") {
                            cell.classList.add('light');
                        } else {
                            // Para OR, aplicar colores basados en fuerza de mano
                            assignHandCategory(cell);
                        }
                    }
                });
                
                updateStats();
            }
            
            // Asignar categoría y color a una mano (para OR)
            function assignHandCategory(cell) {
                const hand = cell.dataset.hand;
                
                // Manos premium
                const premiumHands = ["AA", "KK", "QQ", "AKs"];
                // Manos fuertes
                const strongHands = ["JJ", "TT", "AQs", "AJs", "KQs", "AKo"];
                // Manos medias
                const mediumHands = ["99", "88", "ATs", "A9s", "KJs", "KTs", "QJs", "AQo", "AJo"];
                // Manos especulativas
                const speculativeHands = ["77", "66", "A8s", "A7s", "K9s", "QTs", "Q9s", "JTs", "KQo"];
                
                if (premiumHands.includes(hand)) {
                    cell.classList.add('premium');
                } else if (strongHands.includes(hand)) {
                    cell.classList.add('strong');
                } else if (mediumHands.includes(hand)) {
                    cell.classList.add('medium');
                } else if (speculativeHands.includes(hand)) {
                    cell.classList.add('speculative');
                } else {
                    cell.classList.add('light');
                }
            }
            
            // Configurar eventos
            positionSelect.addEventListener('change', function() {
                // Mostrar/ocultar selector de vs-position para BB
                if (this.value === "BB") {
                    vsPositionSelect.style.display = 'block';
                    document.querySelector('.control-group:nth-child(3) label').style.display = 'block';
                } else {
                    vsPositionSelect.style.display = 'none';
                    document.querySelector('.control-group:nth-child(3) label').style.display = 'none';
                }
                updateRangeDisplay();
            });
            
            actionSelect.addEventListener('change', updateRangeDisplay);
            vsPositionSelect.addEventListener('change', updateRangeDisplay);
            
            // Inicializar
            createGrid();
            
            // Ocultar vs-position inicialmente (excepto para BB)
            vsPositionSelect.style.display = 'none';
            document.querySelector('.control-group:nth-child(3) label').style.display = 'none';
        });
    </script>
</body>
</html>


